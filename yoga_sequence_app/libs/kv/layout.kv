#:import environ os.environ

Screen:
    MDBoxLayout:
        orientation: 'vertical'
        MDToolbar:
            title: "Generate Sequence"
            anchor_title: "right"
            left_action_items: [["menu", lambda x: nav_draw.set_state()]]
            right_action_items: [["cogs", lambda x: app.callback_refresh_asanas()]]
        Widget:
    MDNavigationLayout:    
        ScreenManager:
            size_hint_y: 0.89
            id: screen_manager
            Screen:
                name: "scr1"
                ScrollView:
                    MDList:
                        id: box_sixty_minute_sequence
        
            Screen:
                name: "scr2"
                ScrollView:
                    MDList:
                        id: box_ninety_minute_sequence
                        
        MDNavigationDrawer:
            id: nav_draw
            orientation: "vertical"
            padding: "8dp"
            spacing: "8dp"
            
            AnchorLayout:
                anchor_x: "center"
                size_hint_y: None
                height: avatar.height
    
                Image:
                    id: avatar
                    size_hint: None, None
                    size: "100dp", "100dp"
                    source: f"{environ['YOGA_SEQUENCE_ASSETS']}tree_of_life.png"
    
            MDLabel:
                text: "User1"
                font_style: "Button"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
        
            MDLabel:
                text: "youremail@gmail.com"
                font_style: "Caption"
                size_hint_y: None
                height: self.texture_size[1]
                halign: "center"
            
            ScrollView:
                MDList:
                    OneLineAvatarListItem:
                        on_press:
                            nav_draw.set_state("close")
                            screen_manager.current = "scr1"
    
                        text: "60 minute sequence"
                        IconLeftWidget:
                            icon: "yoga"
    
                    OneLineAvatarListItem:
                        on_press:
                            nav_draw.set_state("close")
                            screen_manager.current = "scr2"
                        text: "90 minute sequence"
                        IconLeftWidget:
                            icon: "yoga"
                                
            Widget: